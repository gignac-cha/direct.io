import ts, { factory } from 'typescript';

[
  factory.createVariableStatement(
    undefined,
    factory.createVariableDeclarationList(
      [
        factory.createVariableDeclaration(
          factory.createIdentifier('usePostAddMutation'),
          undefined,
          undefined,
          factory.createArrowFunction(
            undefined,
            undefined,
            [
              factory.createParameterDeclaration(
                undefined,
                undefined,
                factory.createObjectBindingPattern([
                  factory.createBindingElement(undefined, undefined, factory.createIdentifier('post'), undefined),
                ]),
                undefined,
                factory.createTypeLiteralNode([
                  factory.createPropertySignature(
                    undefined,
                    factory.createIdentifier('post'),
                    undefined,
                    factory.createTypeReferenceNode(factory.createIdentifier('NewPost'), undefined),
                  ),
                ]),
                undefined,
              ),
            ],
            undefined,
            factory.createToken(ts.SyntaxKind.EqualsGreaterThanToken),
            factory.createBlock(
              [
                factory.createVariableStatement(
                  undefined,
                  factory.createVariableDeclarationList(
                    [
                      factory.createVariableDeclaration(
                        factory.createIdentifier('queryClient'),
                        undefined,
                        undefined,
                        factory.createCallExpression(factory.createIdentifier('useQueryClient'), undefined, []),
                      ),
                    ],
                    ts.NodeFlags.Const | ts.NodeFlags.Constant | ts.NodeFlags.Constant,
                  ),
                ),
                factory.createReturnStatement(
                  factory.createCallExpression(factory.createIdentifier('useMutation'), undefined, [
                    factory.createObjectLiteralExpression(
                      [
                        factory.createPropertyAssignment(
                          factory.createIdentifier('mutationKey'),
                          factory.createArrayLiteralExpression(
                            [factory.createStringLiteral('post'), factory.createStringLiteral('add')],
                            false,
                          ),
                        ),
                        factory.createPropertyAssignment(
                          factory.createIdentifier('mutationFn'),
                          factory.createArrowFunction(
                            undefined,
                            undefined,
                            [],
                            undefined,
                            factory.createToken(ts.SyntaxKind.EqualsGreaterThanToken),
                            factory.createCallExpression(
                              factory.createPropertyAccessExpression(
                                factory.createIdentifier('fetch'),
                                factory.createIdentifier('post'),
                              ),
                              [
                                factory.createArrayTypeNode(
                                  factory.createTypeReferenceNode(factory.createIdentifier('Post'), undefined),
                                ),
                              ],
                              [
                                factory.createNoSubstitutionTemplateLiteral(
                                  'https://api.example.com/post',
                                  'https://api.example.com/post',
                                ),
                                factory.createObjectLiteralExpression(
                                  [
                                    factory.createShorthandPropertyAssignment(
                                      factory.createIdentifier('post'),
                                      undefined,
                                    ),
                                  ],
                                  false,
                                ),
                              ],
                            ),
                          ),
                        ),
                        factory.createPropertyAssignment(
                          factory.createIdentifier('onSuccess'),
                          factory.createArrowFunction(
                            undefined,
                            undefined,
                            [],
                            undefined,
                            factory.createToken(ts.SyntaxKind.EqualsGreaterThanToken),
                            factory.createBlock(
                              [
                                factory.createExpressionStatement(
                                  factory.createCallExpression(
                                    factory.createPropertyAccessExpression(
                                      factory.createIdentifier('queryClient'),
                                      factory.createIdentifier('invalidateQueries'),
                                    ),
                                    undefined,
                                    [
                                      factory.createObjectLiteralExpression(
                                        [
                                          factory.createPropertyAssignment(
                                            factory.createIdentifier('queryKey'),
                                            factory.createArrayLiteralExpression(
                                              [
                                                factory.createStringLiteral('post'),
                                                factory.createStringLiteral('list'),
                                              ],
                                              false,
                                            ),
                                          ),
                                        ],
                                        false,
                                      ),
                                    ],
                                  ),
                                ),
                              ],
                              true,
                            ),
                          ),
                        ),
                      ],
                      true,
                    ),
                  ]),
                ),
              ],
              true,
            ),
          ),
        ),
      ],
      ts.NodeFlags.Const | ts.NodeFlags.Constant | ts.NodeFlags.Constant,
    ),
  ),
  factory.createVariableStatement(
    undefined,
    factory.createVariableDeclarationList(
      [
        factory.createVariableDeclaration(
          factory.createIdentifier('usePostEditMutation'),
          undefined,
          undefined,
          factory.createArrowFunction(
            undefined,
            undefined,
            [
              factory.createParameterDeclaration(
                undefined,
                undefined,
                factory.createObjectBindingPattern([
                  factory.createBindingElement(undefined, undefined, factory.createIdentifier('uuid'), undefined),
                  factory.createBindingElement(undefined, undefined, factory.createIdentifier('post'), undefined),
                ]),
                undefined,
                factory.createTypeLiteralNode([
                  factory.createPropertySignature(
                    undefined,
                    factory.createIdentifier('uuid'),
                    undefined,
                    factory.createKeywordTypeNode(ts.SyntaxKind.StringKeyword),
                  ),
                  factory.createPropertySignature(
                    undefined,
                    factory.createIdentifier('post'),
                    undefined,
                    factory.createTypeReferenceNode(factory.createIdentifier('NewPost'), undefined),
                  ),
                ]),
                undefined,
              ),
            ],
            undefined,
            factory.createToken(ts.SyntaxKind.EqualsGreaterThanToken),
            factory.createBlock(
              [
                factory.createVariableStatement(
                  undefined,
                  factory.createVariableDeclarationList(
                    [
                      factory.createVariableDeclaration(
                        factory.createIdentifier('queryClient'),
                        undefined,
                        undefined,
                        factory.createCallExpression(factory.createIdentifier('useQueryClient'), undefined, []),
                      ),
                    ],
                    ts.NodeFlags.Const | ts.NodeFlags.Constant | ts.NodeFlags.Constant,
                  ),
                ),
                factory.createReturnStatement(
                  factory.createCallExpression(factory.createIdentifier('useMutation'), undefined, [
                    factory.createObjectLiteralExpression(
                      [
                        factory.createPropertyAssignment(
                          factory.createIdentifier('mutationKey'),
                          factory.createArrayLiteralExpression(
                            [
                              factory.createStringLiteral('post'),
                              factory.createStringLiteral('edit'),
                              factory.createIdentifier('uuid'),
                            ],
                            false,
                          ),
                        ),
                        factory.createPropertyAssignment(
                          factory.createIdentifier('mutationFn'),
                          factory.createArrowFunction(
                            undefined,
                            undefined,
                            [],
                            undefined,
                            factory.createToken(ts.SyntaxKind.EqualsGreaterThanToken),
                            factory.createCallExpression(
                              factory.createPropertyAccessExpression(
                                factory.createIdentifier('fetch'),
                                factory.createIdentifier('put'),
                              ),
                              [
                                factory.createArrayTypeNode(
                                  factory.createTypeReferenceNode(factory.createIdentifier('Post'), undefined),
                                ),
                              ],
                              [
                                factory.createTemplateExpression(
                                  factory.createTemplateHead(
                                    'https://api.example.com/post/',
                                    'https://api.example.com/post/',
                                  ),
                                  [
                                    factory.createTemplateSpan(
                                      factory.createIdentifier('uuid'),
                                      factory.createTemplateTail('', ''),
                                    ),
                                  ],
                                ),
                                factory.createObjectLiteralExpression(
                                  [
                                    factory.createShorthandPropertyAssignment(
                                      factory.createIdentifier('post'),
                                      undefined,
                                    ),
                                  ],
                                  false,
                                ),
                              ],
                            ),
                          ),
                        ),
                        factory.createPropertyAssignment(
                          factory.createIdentifier('onSuccess'),
                          factory.createArrowFunction(
                            undefined,
                            undefined,
                            [],
                            undefined,
                            factory.createToken(ts.SyntaxKind.EqualsGreaterThanToken),
                            factory.createBlock(
                              [
                                factory.createExpressionStatement(
                                  factory.createCallExpression(
                                    factory.createPropertyAccessExpression(
                                      factory.createIdentifier('queryClient'),
                                      factory.createIdentifier('invalidateQueries'),
                                    ),
                                    undefined,
                                    [
                                      factory.createObjectLiteralExpression(
                                        [
                                          factory.createPropertyAssignment(
                                            factory.createIdentifier('queryKey'),
                                            factory.createArrayLiteralExpression(
                                              [
                                                factory.createStringLiteral('post'),
                                                factory.createStringLiteral('list'),
                                              ],
                                              false,
                                            ),
                                          ),
                                        ],
                                        false,
                                      ),
                                    ],
                                  ),
                                ),
                                factory.createExpressionStatement(
                                  factory.createCallExpression(
                                    factory.createPropertyAccessExpression(
                                      factory.createIdentifier('queryClient'),
                                      factory.createIdentifier('invalidateQueries'),
                                    ),
                                    undefined,
                                    [
                                      factory.createObjectLiteralExpression(
                                        [
                                          factory.createPropertyAssignment(
                                            factory.createIdentifier('queryKey'),
                                            factory.createArrayLiteralExpression(
                                              [
                                                factory.createStringLiteral('post'),
                                                factory.createStringLiteral('get'),
                                                factory.createIdentifier('uuid'),
                                              ],
                                              false,
                                            ),
                                          ),
                                        ],
                                        false,
                                      ),
                                    ],
                                  ),
                                ),
                              ],
                              true,
                            ),
                          ),
                        ),
                      ],
                      true,
                    ),
                  ]),
                ),
              ],
              true,
            ),
          ),
        ),
      ],
      ts.NodeFlags.Const | ts.NodeFlags.Constant | ts.NodeFlags.Constant,
    ),
  ),
  factory.createVariableStatement(
    undefined,
    factory.createVariableDeclarationList(
      [
        factory.createVariableDeclaration(
          factory.createIdentifier('usePostRemoveMutation'),
          undefined,
          undefined,
          factory.createArrowFunction(
            undefined,
            undefined,
            [
              factory.createParameterDeclaration(
                undefined,
                undefined,
                factory.createObjectBindingPattern([
                  factory.createBindingElement(undefined, undefined, factory.createIdentifier('uuid'), undefined),
                ]),
                undefined,
                factory.createTypeLiteralNode([
                  factory.createPropertySignature(
                    undefined,
                    factory.createIdentifier('uuid'),
                    undefined,
                    factory.createKeywordTypeNode(ts.SyntaxKind.StringKeyword),
                  ),
                ]),
                undefined,
              ),
            ],
            undefined,
            factory.createToken(ts.SyntaxKind.EqualsGreaterThanToken),
            factory.createBlock(
              [
                factory.createVariableStatement(
                  undefined,
                  factory.createVariableDeclarationList(
                    [
                      factory.createVariableDeclaration(
                        factory.createIdentifier('queryClient'),
                        undefined,
                        undefined,
                        factory.createCallExpression(factory.createIdentifier('useQueryClient'), undefined, []),
                      ),
                    ],
                    ts.NodeFlags.Const | ts.NodeFlags.Constant | ts.NodeFlags.Constant,
                  ),
                ),
                factory.createReturnStatement(
                  factory.createCallExpression(factory.createIdentifier('useMutation'), undefined, [
                    factory.createObjectLiteralExpression(
                      [
                        factory.createPropertyAssignment(
                          factory.createIdentifier('mutationKey'),
                          factory.createArrayLiteralExpression(
                            [
                              factory.createStringLiteral('post'),
                              factory.createStringLiteral('remove'),
                              factory.createIdentifier('uuid'),
                            ],
                            false,
                          ),
                        ),
                        factory.createPropertyAssignment(
                          factory.createIdentifier('mutationFn'),
                          factory.createArrowFunction(
                            undefined,
                            undefined,
                            [],
                            undefined,
                            factory.createToken(ts.SyntaxKind.EqualsGreaterThanToken),
                            factory.createCallExpression(
                              factory.createPropertyAccessExpression(
                                factory.createIdentifier('fetch'),
                                factory.createIdentifier('delete'),
                              ),
                              [
                                factory.createArrayTypeNode(
                                  factory.createTypeReferenceNode(factory.createIdentifier('Post'), undefined),
                                ),
                              ],
                              [
                                factory.createTemplateExpression(
                                  factory.createTemplateHead(
                                    'https://api.example.com/post/',
                                    'https://api.example.com/post/',
                                  ),
                                  [
                                    factory.createTemplateSpan(
                                      factory.createIdentifier('uuid'),
                                      factory.createTemplateTail('', ''),
                                    ),
                                  ],
                                ),
                              ],
                            ),
                          ),
                        ),
                        factory.createPropertyAssignment(
                          factory.createIdentifier('onSuccess'),
                          factory.createArrowFunction(
                            undefined,
                            undefined,
                            [],
                            undefined,
                            factory.createToken(ts.SyntaxKind.EqualsGreaterThanToken),
                            factory.createBlock(
                              [
                                factory.createExpressionStatement(
                                  factory.createCallExpression(
                                    factory.createPropertyAccessExpression(
                                      factory.createIdentifier('queryClient'),
                                      factory.createIdentifier('invalidateQueries'),
                                    ),
                                    undefined,
                                    [
                                      factory.createObjectLiteralExpression(
                                        [
                                          factory.createPropertyAssignment(
                                            factory.createIdentifier('queryKey'),
                                            factory.createArrayLiteralExpression(
                                              [
                                                factory.createStringLiteral('post'),
                                                factory.createStringLiteral('list'),
                                              ],
                                              false,
                                            ),
                                          ),
                                        ],
                                        false,
                                      ),
                                    ],
                                  ),
                                ),
                                factory.createExpressionStatement(
                                  factory.createCallExpression(
                                    factory.createPropertyAccessExpression(
                                      factory.createIdentifier('queryClient'),
                                      factory.createIdentifier('invalidateQueries'),
                                    ),
                                    undefined,
                                    [
                                      factory.createObjectLiteralExpression(
                                        [
                                          factory.createPropertyAssignment(
                                            factory.createIdentifier('queryKey'),
                                            factory.createArrayLiteralExpression(
                                              [
                                                factory.createStringLiteral('post'),
                                                factory.createStringLiteral('get'),
                                                factory.createIdentifier('uuid'),
                                              ],
                                              false,
                                            ),
                                          ),
                                        ],
                                        false,
                                      ),
                                    ],
                                  ),
                                ),
                              ],
                              true,
                            ),
                          ),
                        ),
                      ],
                      true,
                    ),
                  ]),
                ),
              ],
              true,
            ),
          ),
        ),
      ],
      ts.NodeFlags.Const | ts.NodeFlags.Constant | ts.NodeFlags.Constant,
    ),
  ),
];
